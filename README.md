# 스마트 주차장 시스템(Linux Project)
### 💻개발배경
최근 자동차가 많아지고있는 상황에서 지방에 거주하는 사람들 또한 수도권으로 이동하면서 수도권, 서울의 인구 밀집도는 이미 포화상태라고 말 할수 있을 정도로 인구 밀집도가 높습니다. 이러한 상황에서 주차공간은 턱 없이 부족하며 이때문에 서울, 수도권 주변 아파트에 불법주차가 빈번하게 일어나고 있습니다. 그로인해 적장 아파트 주민은 본인의 집에 주차를 못하는 상황이 발생합니다. 이러한 상황을 방지하기 위해 RFID기능을 이용해 등록된 카드를  소지하고 있는 주민들만이 주차장을 이용할 수 있도록 주차장 시스템의 설계, 개발을 계획했습니다.
#### #📌 프로젝트 기간이 짧았던 관계로 파이썬을 활용해 RC522의 RFID리더기 기능을 설계했습니다. 
## 기능설명
1. 등록된 카드만이 RFID리더기가 인식하여 주차장을 이용할 수 있습니다. 
2. 카드등록은 최초 1회 가능하며, `Write.py`를 실행시켜 본인의 카드의 이름을 설정하고 등록합니다. 카드의 등록은 `card_data.json`파일에 저장이됩니다. 
3. 주차장의 출차기록은 `tag.txt`파일에 기록이 되며 카드를 RFID리더기가 인식하면 출입기록이 저장됩니다. 
4. 주차 차단기 바닥에는 조도센서가 있습니다. 이는 자동차가 차단기를 통과하지 못했을 경우 조도센서를 통해서 차가 있으면 차단기가 내려가지 않고 대기하다가 차단기를 통과하면 차단기가 내려가도록 설계하였습니다.
5. 주차장 내부에는 LED로 주차가능 공간을 표시합니다. LED가 ON일 경우 "주차가능"하다는 의미이며, LED가 OFF일 경우 "주차 불가능"이라는 의미입니다. 
6. 주차공간의 주차가능 여부는 주차공간 천장의 초음파센서로 파악합니다. 
7. 주차장 입구에는 주차공간을 `7Segment`로 알려줍니다. 이는 각 주차공간의 초음파센서가 전달하는 데이터로 주차가능 공간을 파악하여 알려줍니다.
## 상세 코드설명
- `Ultrasonic_led.c` 주차공간의 초음파센서와 LED의 동작을 제어합니다.
- `CrossingGate_origin.c` 최종 코드입니다. 주차 차단기의 조도센서, 서보모터와 주차공간의 초음파센서, LED를 종합하였습니다.
- `Write.py`, `Read.py` 2개의 파이썬 파일이 RFID리더기 역할을 합니다.  `Read.py`를 실행시켜 등록된 카드를 RFID리더기에 인식시키면 등록된 카드의 출입기록이 저장됩니다. 또한, 차단기의 동작은 `out_records.txt`와 `entry_records.txt` 텍스트 파일을 확인하여 새로운 기록이 저장될 때마다 차단기가 열리도록 설계하였으며 차단기의 동작을 위한 텍스트 파일들은 기록이 저장되어 쌓이는 것이 아니라 차단기가 닫힐 때 텍스트파일을 초기화하여 무분별한 기록들이 쌓이는것을 방지합니다.
